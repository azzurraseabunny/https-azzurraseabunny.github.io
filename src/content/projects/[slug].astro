---
import { getCollection, getEntryBySlug } from 'astro:content';

const { slug } = Astro.params;
const project = await getEntryBySlug('projects', slug);

if (!project) {
  throw new Error(`Project not found: ${slug}`);
}
---

<Layout title={project.data.title} description={project.data.description}>
  <article>
    <h1>{project.data.title}</h1>
    <p><strong>Date:</strong> {project.data.pubDate.toLocaleDateString()}</p>
    {project.data.heroImage && (
      <img src={project.data.heroImage} alt={project.data.title} />
    )}
    <div>
      {project.body} <!-- Render Markdown content -->
    </div>
  </article>
</Layout>
